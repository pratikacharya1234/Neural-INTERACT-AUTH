<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>🔐 NAP Auth Component Test</title>
</head>
<body>
  <h1>🔐 NAP Auth Component Test</h1>

  <label for="mode">Mode:</label>
  <select id="mode">
    <option value="register">Register</option>
    <option value="login">Login</option>
  </select>

  <nap-auth id="auth-box" username="demo" mode="register"></nap-auth>

  <script type="module">
    import '/src/nap-auth.js'; 

    const auth = document.getElementById('auth-box');
    const modeSwitcher = document.getElementById('mode');

    modeSwitcher.addEventListener('change', (e) => {
      auth.setAttribute('mode', e.target.value);
    });

    auth.addEventListener('auth-success', e => console.log("✅ SUCCESS:", e.detail));
    auth.addEventListener('auth-fail', e => console.log("❌ FAIL:", e.detail));
    auth.addEventListener('auth-progress', e => console.log("⏳ PROGRESS:", e.detail));
  </script>
</body>
</html>
